<h1 class="text-center my-4">Welcome to PropperProps</h1>


<div class="container">
  <div class="row mb-4">
    <div class="col-md-8 offset-md-2">
      <%= form_with(url: search_props_path, method: :get, local: true, class: "form-inline justify-content-center") do %>
        <div class="form-group mx-2">
          <%= label_tag :query, "Search for:", class: "mr-2" %>
          <%= text_field_tag :query, params[:query], class: "form-control" %>
        </div>
        <%= submit_tag "Search", name: nil, class: "btn btn-primary mx-2" %>
      <% end %>
>>>>>>> master
    </div>
  </div>

  <div class="row mb-4 text-center">
    <div class="col">
      <%= link_to "View All Props", props_path, class: "btn btn-info mx-2" %>
      <%= link_to "Add a New Prop", new_prop_path, class: "btn btn-success mx-2" %>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <h2 class="text-center mb-4">Recently listed Props</h2>

      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel" data-interval="false">
        <div class="carousel-inner">
          <% @props.order(created_at: :desc).each_slice(3).with_index do |props_group, index| %>
            <div class="carousel-item <%= 'active' if index == 0 %>">
              <div class="row">
                <% props_group.each do |prop| %>
                  <div class="col-md-4">
                    <div class="card mb-4">
                      <div class="row no-gutters">
                        <div class="col-md-4">
                          <% if prop.photo.attached? %>
                            <%= link_to prop_path(prop) do %>
                              <%= image_tag prop.photo, class: "card-img rounded-left fixed-size" %>
                            <% end %>
                          <% else %>
                            <%= link_to prop_path(prop) do %>
                              <%= image_tag "placeholder.jpg", class: "card-img rounded-left fixed-size" %>
                            <% end %>
                          <% end %>
                        </div>
                        <div class="col-md-8">
                          <div class="card-body">
                            <h5 class="card-title"><%= link_to prop.name, prop_path(prop), class: "stretched-link text-decoration-none" %></h5>
                            <p class="card-text"><strong><%= prop.price %>â‚¬</strong></p>
                            <p class="card-text">Category: <%= prop.category %></p>
                            <p class="card-text">Owner: <%= prop.user.username %></p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                <% end %>
              </div>
            </div>
          <% end %>
        </div>
        <a class="carousel-control-prev carousel-control" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next carousel-control" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
  </div>
</div>
